<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>12-Week Gym Plan</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #080810;
  --surface: #0f0f1a;
  --surface2: #161625;
  --surface3: #1e1e30;
  --accent: #c8ff00;
  --accent-dim: rgba(200,255,0,0.12);
  --orange: #ff7043;
  --blue: #60a5fa;
  --green: #34d399;
  --purple: #a78bfa;
  --gold: #fbbf24;
  --text: #eeeef5;
  --text2: #9999b5;
  --muted: #55556a;
  --border: #1e1e30;
  --border2: #2a2a42;
  --glow: 0 0 40px rgba(200,255,0,0.08);
}
*{margin:0;padding:0;box-sizing:border-box;}
body{background:var(--bg);color:var(--text);font-family:'Plus Jakarta Sans',sans-serif;min-height:100vh;overflow-x:hidden;}
::selection{background:rgba(200,255,0,0.25);color:var(--text);}
::-webkit-scrollbar{width:5px;}
::-webkit-scrollbar-track{background:var(--bg);}
::-webkit-scrollbar-thumb{background:var(--border2);border-radius:3px;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE ROUTING â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.page{display:none;}
.page.active{display:block;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• NAV â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.nav{
  position:sticky;top:0;z-index:200;
  background:rgba(8,8,16,0.9);
  backdrop-filter:blur(20px);
  border-bottom:1px solid var(--border);
  display:flex;align-items:center;gap:4px;
  padding:0 32px;
  height:56px;
}
.nav-logo{
  font-family:'Bebas Neue';font-size:22px;letter-spacing:2px;
  color:var(--accent);margin-right:16px;
}
.nav-btn{
  background:none;border:none;color:var(--text2);
  font-family:'Plus Jakarta Sans',sans-serif;font-size:13px;font-weight:600;
  padding:6px 14px;cursor:pointer;border-radius:8px;
  transition:all 0.15s;letter-spacing:0.3px;
  display:flex;align-items:center;gap:7px;
}
.nav-btn:hover{background:var(--surface2);color:var(--text);}
.nav-btn.active{background:var(--accent-dim);color:var(--accent);}
.nav-btn .nav-icon{font-size:15px;}
.nav-spacer{flex:1;}
.nav-streak{
  display:flex;align-items:center;gap:6px;
  font-size:12px;font-weight:700;color:var(--orange);
  background:rgba(255,112,67,0.1);border:1px solid rgba(255,112,67,0.2);
  padding:5px 12px;border-radius:20px;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• HERO â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.hero{
  position:relative;padding:72px 40px 48px;
  overflow:hidden;
}
.hero-bg{
  position:absolute;inset:0;pointer-events:none;
  background:
    radial-gradient(ellipse 600px 400px at 80% -50px, rgba(200,255,0,0.06) 0%, transparent 70%),
    radial-gradient(ellipse 400px 300px at -10% 60%, rgba(96,165,250,0.04) 0%, transparent 70%);
}
.hero-grid{
  position:absolute;inset:0;pointer-events:none;
  background-image:
    linear-gradient(rgba(255,255,255,0.015) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.015) 1px, transparent 1px);
  background-size:60px 60px;
  mask-image:linear-gradient(to bottom, transparent, black 30%, black 70%, transparent);
}
.hero-inner{position:relative;z-index:1;}
.hero-eyebrow{
  display:inline-flex;align-items:center;gap:8px;
  background:var(--accent-dim);border:1px solid rgba(200,255,0,0.2);
  color:var(--accent);font-size:11px;font-weight:700;letter-spacing:3px;
  text-transform:uppercase;padding:5px 14px;border-radius:20px;margin-bottom:24px;
}
.hero-eyebrow::before{content:'';width:6px;height:6px;border-radius:50%;background:var(--accent);animation:pulse 2s infinite;}
@keyframes pulse{0%,100%{opacity:1;}50%{opacity:0.3;}}
.hero h1{
  font-family:'Bebas Neue';font-size:clamp(64px,10vw,120px);
  line-height:0.9;letter-spacing:-1px;margin-bottom:20px;
}
.hero h1 .hl{
  -webkit-text-stroke:2px var(--accent);color:transparent;
}
.hero-sub{font-size:15px;color:var(--text2);font-weight:400;max-width:480px;line-height:1.7;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• STAT STRIP â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.stat-strip{
  display:grid;grid-template-columns:repeat(4,1fr);
  margin:0 40px 40px;gap:12px;
}
.stat-card{
  background:var(--surface);border:1px solid var(--border);
  border-radius:14px;padding:20px;position:relative;overflow:hidden;
  transition:all 0.2s;
}
.stat-card::before{
  content:'';position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(255,255,255,0.03) 0%,transparent 50%);
  pointer-events:none;
}
.stat-card:hover{border-color:var(--border2);transform:translateY(-2px);}
.stat-icon{font-size:22px;margin-bottom:10px;}
.stat-val{font-family:'Bebas Neue';font-size:38px;line-height:1;margin-bottom:4px;}
.stat-label{font-size:11px;color:var(--text2);font-weight:600;letter-spacing:1.5px;text-transform:uppercase;}
.stat-card.accent-green .stat-val{color:var(--accent);}
.stat-card.accent-blue .stat-val{color:var(--blue);}
.stat-card.accent-gold .stat-val{color:var(--gold);}
.stat-card.accent-green2 .stat-val{color:var(--green);}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• SECTION HEADER â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.section-head{
  display:flex;align-items:center;justify-content:space-between;
  margin-bottom:18px;
}
.section-title{
  font-size:11px;font-weight:700;letter-spacing:3px;
  text-transform:uppercase;color:var(--text2);
  display:flex;align-items:center;gap:8px;
}
.section-title::before{
  content:'';width:14px;height:2px;background:var(--accent);border-radius:2px;
}
.section-action{
  font-size:12px;color:var(--accent);font-weight:600;cursor:pointer;
  background:none;border:none;font-family:'Plus Jakarta Sans';
  display:flex;align-items:center;gap:5px;padding:4px 10px;
  border-radius:8px;transition:background 0.15s;
}
.section-action:hover{background:var(--accent-dim);}

.home-section{margin:0 40px 40px;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• PROGRESS BAR â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.prog-card{
  background:var(--surface);border:1px solid var(--border);
  border-radius:14px;padding:24px 28px;
}
.prog-top{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:14px;}
.prog-label{font-size:13px;font-weight:600;color:var(--text2);}
.prog-pct{font-family:'Bebas Neue';font-size:42px;line-height:1;color:var(--accent);}
.prog-track{height:6px;background:var(--border2);border-radius:99px;overflow:hidden;}
.prog-fill{height:100%;background:linear-gradient(90deg,var(--accent),#a0ff00);border-radius:99px;transition:width 0.6s cubic-bezier(.4,0,.2,1);}
.prog-weeks{display:flex;gap:3px;margin-top:12px;}
.prog-week-dot{
  flex:1;height:4px;border-radius:2px;background:var(--border2);
  transition:background 0.3s;
}
.prog-week-dot.done{background:var(--accent);}
.prog-week-dot.partial{background:var(--orange);}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• WEIGHT SECTION â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.weight-card{
  background:var(--surface);border:1px solid var(--border);
  border-radius:14px;overflow:hidden;
}
.weight-stats-row{display:grid;grid-template-columns:1fr 1fr 1fr;border-bottom:1px solid var(--border);}
.wstat{padding:22px 24px;border-right:1px solid var(--border);}
.wstat:last-child{border-right:none;}
.wstat-lbl{font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--text2);margin-bottom:6px;}
.wstat-val{font-family:'Bebas Neue';font-size:32px;line-height:1;color:var(--blue);}
.wstat-val.loss{color:var(--green);}
.wstat-val.gain{color:var(--orange);}
.wstat-sub{font-size:11px;color:var(--muted);margin-top:3px;}
.chart-wrap{padding:24px;}
.chart-controls{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px;}
.chart-title2{font-size:13px;font-weight:700;color:var(--text);}
.unit-toggle{display:flex;gap:2px;background:var(--surface2);border-radius:8px;padding:3px;}
.unit-btn{
  background:none;border:none;color:var(--text2);
  font-family:'Plus Jakarta Sans';font-size:11px;font-weight:700;
  padding:5px 12px;cursor:pointer;border-radius:6px;transition:all 0.15s;text-transform:uppercase;letter-spacing:1px;
}
.unit-btn.active{background:var(--accent);color:#000;}
svg.weight-chart{width:100%;display:block;overflow:visible;}
.no-data{
  text-align:center;padding:48px 24px;
  display:flex;flex-direction:column;align-items:center;gap:12px;
}
.no-data-icon{font-size:40px;opacity:0.3;}
.no-data-text{font-size:14px;color:var(--text2);line-height:1.6;}
.weight-log-section{border-top:1px solid var(--border);}
.wlog-head{
  display:grid;grid-template-columns:1fr 1fr 1fr auto;
  padding:10px 24px;background:var(--surface2);
  font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--muted);
}
.wlog-row{
  display:grid;grid-template-columns:1fr 1fr 1fr auto;
  padding:13px 24px;border-bottom:1px solid var(--border);
  align-items:center;transition:background 0.15s;
}
.wlog-row:last-child{border-bottom:none;}
.wlog-row:hover{background:var(--surface2);}
.wlog-week{font-size:12px;color:var(--text2);}
.wlog-wt{font-size:15px;font-weight:700;}
.wlog-ch{font-size:13px;}
.wlog-ch.neg{color:var(--green);}
.wlog-ch.pos{color:var(--orange);}
.wlog-ch.zero{color:var(--muted);}
.wlog-del{
  background:none;border:1px solid transparent;color:var(--muted);
  cursor:pointer;width:28px;height:28px;border-radius:6px;
  display:flex;align-items:center;justify-content:center;transition:all 0.15s;font-size:13px;
}
.wlog-del:hover{border-color:rgba(255,80,80,0.4);color:#ff5050;background:rgba(255,80,80,0.06);}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• WEEKS GRID â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.weeks-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(210px,1fr));gap:14px;}
.week-card{
  background:var(--surface);border:1px solid var(--border);
  border-radius:16px;padding:22px;cursor:pointer;
  transition:all 0.2s cubic-bezier(.4,0,.2,1);
  position:relative;overflow:hidden;
}
.week-card::after{
  content:'';position:absolute;inset:0;border-radius:16px;
  background:linear-gradient(135deg,rgba(255,255,255,0.04) 0%,transparent 50%);
  pointer-events:none;
}
.week-card:hover{
  border-color:var(--border2);
  transform:translateY(-4px);
  box-shadow:0 12px 40px rgba(0,0,0,0.4),0 0 0 1px var(--border2);
}
.week-card.complete{
  border-color:rgba(200,255,0,0.25);
  background:linear-gradient(135deg,var(--surface) 60%,rgba(200,255,0,0.04));
}
.week-card.complete:hover{
  border-color:rgba(200,255,0,0.45);
  box-shadow:0 12px 40px rgba(0,0,0,0.4),0 0 20px rgba(200,255,0,0.08);
}
.wc-top{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:14px;}
.wc-badge{
  font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;
  padding:4px 10px;border-radius:20px;
  background:var(--surface2);color:var(--text2);
  border:1px solid var(--border);
}
.wc-badge.phase-foundation{background:rgba(96,165,250,0.1);color:var(--blue);border-color:rgba(96,165,250,0.2);}
.wc-badge.phase-build{background:rgba(52,211,153,0.1);color:var(--green);border-color:rgba(52,211,153,0.2);}
.wc-badge.phase-accumulate{background:rgba(167,139,250,0.1);color:var(--purple);border-color:rgba(167,139,250,0.2);}
.wc-badge.phase-intensify{background:rgba(255,112,67,0.1);color:var(--orange);border-color:rgba(255,112,67,0.2);}
.wc-badge.phase-peak{background:rgba(251,191,36,0.1);color:var(--gold);border-color:rgba(251,191,36,0.2);}
.wc-badge.phase-deload{background:rgba(52,211,153,0.08);color:var(--green);border-color:rgba(52,211,153,0.15);}
.wc-badge.phase-test{background:rgba(200,255,0,0.1);color:var(--accent);border-color:rgba(200,255,0,0.2);}
.wc-trophy{font-size:24px;animation:float 3s ease-in-out infinite;}
@keyframes float{0%,100%{transform:translateY(0);}50%{transform:translateY(-5px);}}
.wc-num{
  font-family:'Bebas Neue';font-size:52px;line-height:1;
  color:var(--border2);margin-bottom:4px;
  transition:color 0.2s;
}
.week-card:hover .wc-num{color:var(--surface3);}
.week-card.complete .wc-num{color:rgba(200,255,0,0.15);}
.wc-label{font-size:11px;color:var(--text2);font-weight:600;letter-spacing:1px;text-transform:uppercase;margin-bottom:2px;}
.wc-wt{font-size:11px;color:var(--blue);font-weight:600;margin-bottom:12px;display:flex;align-items:center;gap:4px;}
.wc-bar-track{height:4px;background:var(--border2);border-radius:99px;margin-bottom:8px;overflow:hidden;}
.wc-bar-fill{height:100%;border-radius:99px;background:linear-gradient(90deg,var(--accent),#a0ff00);transition:width 0.5s ease;}
.wc-bar-fill.complete-bar{background:linear-gradient(90deg,var(--green),#4ade80);}
.wc-prog-text{font-size:12px;color:var(--text2);}
.wc-prog-text strong{color:var(--text);}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• GOALS PAGE â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.goals-page-wrap{max-width:820px;margin:0 auto;padding:40px;}
.goals-header{margin-bottom:36px;}
.goals-header h2{font-family:'Bebas Neue';font-size:52px;line-height:1;margin-bottom:8px;}
.goals-header p{font-size:14px;color:var(--text2);line-height:1.6;}

.add-goal-card{
  background:var(--surface);border:1px solid var(--border);
  border-radius:16px;padding:28px;margin-bottom:32px;
}
.add-goal-title{font-size:14px;font-weight:700;margin-bottom:20px;display:flex;align-items:center;gap:8px;}
.add-goal-title span{font-size:18px;}
.goal-form-row{display:flex;gap:12px;flex-wrap:wrap;align-items:flex-end;}
.goal-field{display:flex;flex-direction:column;gap:6px;flex:1;min-width:180px;}
.goal-field-label{font-size:11px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--text2);}
.goal-input{
  background:var(--surface2);border:1px solid var(--border2);
  color:var(--text);font-family:'Plus Jakarta Sans';font-size:14px;
  padding:11px 16px;border-radius:10px;width:100%;
  transition:border-color 0.15s;
}
.goal-input:focus{outline:none;border-color:rgba(200,255,0,0.4);background:var(--surface3);}
.goal-input::placeholder{color:var(--muted);}
select.goal-input{cursor:pointer;}
.goal-add-btn{
  background:var(--accent);border:none;color:#000;
  font-family:'Plus Jakarta Sans';font-size:13px;font-weight:700;
  letter-spacing:0.5px;padding:11px 24px;border-radius:10px;
  cursor:pointer;transition:all 0.15s;white-space:nowrap;
  display:flex;align-items:center;gap:8px;
}
.goal-add-btn:hover{background:#d4ff00;transform:translateY(-1px);}

.goals-tabs{display:flex;gap:4px;margin-bottom:24px;background:var(--surface);border:1px solid var(--border);padding:4px;border-radius:12px;}
.goals-tab{
  flex:1;background:none;border:none;color:var(--text2);
  font-family:'Plus Jakarta Sans';font-size:13px;font-weight:600;
  padding:9px 16px;cursor:pointer;border-radius:9px;
  transition:all 0.15s;display:flex;align-items:center;justify-content:center;gap:7px;
}
.goals-tab:hover{color:var(--text);}
.goals-tab.active{background:var(--surface2);color:var(--text);box-shadow:0 2px 8px rgba(0,0,0,0.3);}
.goals-tab .tab-count{
  background:var(--border2);color:var(--text2);
  font-size:10px;font-weight:700;padding:1px 7px;border-radius:99px;
}
.goals-tab.active .tab-count{background:var(--accent-dim);color:var(--accent);}

.goals-list{display:flex;flex-direction:column;gap:10px;}
.goal-item{
  background:var(--surface);border:1px solid var(--border);
  border-radius:14px;padding:18px 20px;
  display:flex;align-items:center;gap:16px;
  transition:all 0.2s;
}
.goal-item:hover{border-color:var(--border2);}
.goal-item.done{
  background:linear-gradient(90deg,rgba(52,211,153,0.05),var(--surface));
  border-color:rgba(52,211,153,0.2);
}
.goal-check{
  width:24px;height:24px;border-radius:50%;
  border:2px solid var(--border2);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;flex-shrink:0;transition:all 0.2s;
}
.goal-check:hover{border-color:var(--green);}
.goal-item.done .goal-check{background:var(--green);border-color:var(--green);}
.goal-check svg{width:12px;height:12px;stroke:#000;fill:none;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;opacity:0;transform:scale(0.5);transition:all 0.2s;}
.goal-item.done .goal-check svg{opacity:1;transform:scale(1);}
.goal-info{flex:1;}
.goal-text{font-size:14px;font-weight:600;margin-bottom:3px;transition:all 0.2s;}
.goal-item.done .goal-text{text-decoration:line-through;color:var(--text2);}
.goal-meta{display:flex;align-items:center;gap:10px;}
.goal-type-badge{
  font-size:10px;font-weight:700;letter-spacing:1px;text-transform:uppercase;
  padding:2px 8px;border-radius:99px;
}
.goal-type-badge.weight{background:rgba(96,165,250,0.15);color:var(--blue);}
.goal-type-badge.workout{background:rgba(167,139,250,0.15);color:var(--purple);}
.goal-type-badge.strength{background:rgba(251,191,36,0.15);color:var(--gold);}
.goal-type-badge.other{background:rgba(255,255,255,0.06);color:var(--text2);}
.goal-date{font-size:11px;color:var(--muted);}
.goal-del{
  background:none;border:none;color:var(--muted);cursor:pointer;
  font-size:14px;width:30px;height:30px;border-radius:8px;
  display:flex;align-items:center;justify-content:center;
  transition:all 0.15s;
}
.goal-del:hover{background:rgba(255,80,80,0.1);color:#ff5050;}

.empty-state{
  text-align:center;padding:60px 24px;
  display:flex;flex-direction:column;align-items:center;gap:12px;
}
.empty-icon{font-size:44px;opacity:0.25;}
.empty-text{font-size:14px;color:var(--text2);line-height:1.6;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• ACCOMPLISHMENTS PAGE â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.acc-page-wrap{max-width:820px;margin:0 auto;padding:40px;}
.acc-header{margin-bottom:36px;}
.acc-header h2{font-family:'Bebas Neue';font-size:52px;line-height:1;margin-bottom:8px;}
.acc-header p{font-size:14px;color:var(--text2);}

.acc-banner{
  background:linear-gradient(135deg,rgba(251,191,36,0.1),rgba(251,191,36,0.04));
  border:1px solid rgba(251,191,36,0.2);
  border-radius:16px;padding:28px 32px;margin-bottom:32px;
  display:flex;align-items:center;gap:24px;
}
.acc-trophy-big{font-size:56px;line-height:1;}
.acc-banner-text h3{font-family:'Bebas Neue';font-size:32px;color:var(--gold);margin-bottom:4px;}
.acc-banner-text p{font-size:13px;color:var(--text2);line-height:1.6;}

.acc-section-title{
  font-size:11px;font-weight:700;letter-spacing:3px;text-transform:uppercase;
  color:var(--text2);margin-bottom:16px;display:flex;align-items:center;gap:8px;
}
.acc-section-title::before{content:'';width:14px;height:2px;background:var(--gold);border-radius:2px;}

.acc-week-list{display:flex;flex-direction:column;gap:10px;margin-bottom:36px;}
.acc-week-item{
  background:var(--surface);border:1px solid rgba(200,255,0,0.15);
  border-radius:14px;padding:18px 22px;
  display:flex;align-items:center;gap:16px;
  background:linear-gradient(90deg,rgba(200,255,0,0.04),var(--surface));
}
.acc-week-icon{font-size:28px;}
.acc-week-info{flex:1;}
.acc-week-name{font-size:14px;font-weight:700;margin-bottom:2px;}
.acc-week-sub{font-size:12px;color:var(--text2);}
.acc-week-badge{
  font-family:'Bebas Neue';font-size:18px;color:var(--accent);
  background:var(--accent-dim);border:1px solid rgba(200,255,0,0.2);
  padding:3px 12px;border-radius:8px;
}

.acc-goals-list{display:flex;flex-direction:column;gap:10px;}
.acc-goal-item{
  background:linear-gradient(90deg,rgba(52,211,153,0.05),var(--surface));
  border:1px solid rgba(52,211,153,0.2);
  border-radius:14px;padding:18px 22px;
  display:flex;align-items:center;gap:16px;
}
.acc-goal-icon{font-size:24px;}
.acc-goal-info{flex:1;}
.acc-goal-text{font-size:14px;font-weight:600;margin-bottom:3px;}
.acc-goal-sub{font-size:12px;color:var(--text2);display:flex;align-items:center;gap:8px;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• WEEK PAGE â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.week-page-wrap{max-width:900px;margin:0 auto;padding:36px 40px;}
.wk-page-header{margin-bottom:32px;}
.wk-page-title{
  font-family:'Bebas Neue';font-size:52px;line-height:1;margin-bottom:8px;
}
.wk-page-title span{color:var(--accent);}
.wk-page-meta{display:flex;align-items:center;gap:12px;flex-wrap:wrap;}
.wk-phase-badge{
  font-size:11px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;
  padding:5px 12px;border-radius:20px;
  background:var(--accent-dim);color:var(--accent);border:1px solid rgba(200,255,0,0.2);
}
.wk-progress-inline{
  display:flex;align-items:center;gap:8px;font-size:13px;color:var(--text2);
}
.wk-progress-inline strong{color:var(--text);font-size:14px;}

.wk-guidance{
  background:var(--surface);border:1px solid var(--border);
  border-left:3px solid var(--orange);
  border-radius:12px;padding:14px 18px;
  font-size:13px;color:var(--text2);line-height:1.6;
  margin-bottom:28px;
}
.wk-guidance strong{color:var(--text);}

/* Weight input card */
.wi-card{
  background:var(--surface);border:1px solid var(--border);
  border-radius:14px;padding:20px 24px;margin-bottom:28px;
  display:flex;align-items:center;gap:16px;flex-wrap:wrap;
}
.wi-card-icon{font-size:28px;}
.wi-card-label{font-size:14px;font-weight:700;flex:1;min-width:140px;}
.wi-card-label span{display:block;font-size:11px;color:var(--text2);font-weight:400;margin-top:2px;}
.wi-row{display:flex;align-items:center;gap:10px;}
.wi-inp{
  background:var(--surface2);border:1px solid var(--border2);
  color:var(--text);font-family:'Plus Jakarta Sans';font-size:18px;font-weight:700;
  padding:10px 14px;width:100px;text-align:center;border-radius:10px;
  transition:border-color 0.15s;-moz-appearance:textfield;
}
.wi-inp::-webkit-outer-spin-button,.wi-inp::-webkit-inner-spin-button{-webkit-appearance:none;}
.wi-inp:focus{outline:none;border-color:rgba(96,165,250,0.5);}
.wi-unit-lbl{font-size:12px;color:var(--text2);font-weight:600;}
.wi-save-btn{
  background:var(--blue);border:none;color:#000;
  font-family:'Plus Jakarta Sans';font-size:12px;font-weight:700;
  letter-spacing:0.5px;padding:11px 20px;border-radius:10px;cursor:pointer;transition:all 0.15s;
}
.wi-save-btn:hover{background:#93c5fd;transform:translateY(-1px);}
.wi-status{font-size:12px;color:var(--green);font-weight:600;opacity:0;transition:opacity 0.3s;}
.wi-status.show{opacity:1;}

/* Day block */
.day-block{
  background:var(--surface);border:1px solid var(--border);
  border-radius:16px;margin-bottom:20px;overflow:hidden;
  transition:border-color 0.2s;
}
.day-block:hover{border-color:var(--border2);}
.day-block-header{
  padding:16px 22px;
  background:linear-gradient(90deg,var(--surface2),var(--surface));
  border-bottom:1px solid var(--border);
  display:flex;align-items:center;justify-content:space-between;
}
.day-head-left{display:flex;align-items:center;gap:12px;}
.day-icon{font-size:20px;}
.day-name{font-family:'Bebas Neue';font-size:22px;letter-spacing:1px;}
.day-focus{font-size:11px;color:var(--text2);font-weight:600;letter-spacing:0.5px;text-transform:uppercase;}
.day-done-all{
  background:none;border:1px solid var(--border2);color:var(--text2);
  font-family:'Plus Jakarta Sans';font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;
  padding:6px 14px;border-radius:8px;cursor:pointer;transition:all 0.15s;display:flex;align-items:center;gap:6px;
}
.day-done-all:hover{background:var(--accent-dim);border-color:rgba(200,255,0,0.3);color:var(--accent);}

.ex-row{
  display:flex;align-items:center;gap:14px;
  padding:13px 22px;border-bottom:1px solid var(--border);
  cursor:pointer;transition:background 0.15s;user-select:none;
}
.ex-row:last-child{border-bottom:none;}
.ex-row:hover{background:rgba(255,255,255,0.02);}
.ex-row.done{background:rgba(200,255,0,0.02);}
.ex-cb{
  width:22px;height:22px;border:2px solid var(--border2);border-radius:6px;
  flex-shrink:0;display:flex;align-items:center;justify-content:center;transition:all 0.2s;
}
.ex-row.done .ex-cb{background:var(--accent);border-color:var(--accent);}
.ex-cb svg{width:11px;height:11px;stroke:#000;fill:none;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;opacity:0;transform:scale(0.4);transition:all 0.2s;}
.ex-row.done .ex-cb svg{opacity:1;transform:scale(1);}
.ex-name{flex:1;font-size:14px;transition:all 0.2s;}
.ex-row.done .ex-name{text-decoration:line-through;color:var(--text2);}
.ex-name.cardio{color:var(--blue);}
.ex-row.done .ex-name.cardio{color:var(--text2);}
.ex-sets{font-size:12px;color:var(--muted);font-weight:600;letter-spacing:0.3px;white-space:nowrap;}
.ex-row.done .ex-sets{opacity:0.35;}

.complete-banner{
  display:none;align-items:center;gap:14px;
  background:linear-gradient(90deg,rgba(200,255,0,0.08),rgba(200,255,0,0.03));
  border:1px solid rgba(200,255,0,0.2);border-radius:14px;
  padding:18px 22px;margin-bottom:28px;font-size:14px;
}
.complete-banner.show{display:flex;}
.cb-icon{font-size:24px;}
.cb-text{flex:1;}
.cb-text strong{color:var(--accent);display:block;margin-bottom:2px;}
.cb-text span{font-size:12px;color:var(--text2);}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• TOAST â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.toast{
  position:fixed;bottom:32px;right:32px;z-index:999;
  background:var(--surface);border:1px solid var(--border2);
  border-radius:14px;padding:14px 20px;
  display:flex;align-items:center;gap:12px;
  box-shadow:0 8px 32px rgba(0,0,0,0.6);
  transform:translateY(80px);opacity:0;
  transition:all 0.3s cubic-bezier(.4,0,.2,1);
  pointer-events:none;min-width:260px;
}
.toast.show{transform:translateY(0);opacity:1;}
.toast-icon{font-size:22px;}
.toast-msg{font-size:13px;font-weight:600;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â• RESPONSIVE â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media(max-width:700px){
  .hero{padding:48px 20px 36px;}
  .home-section,.goals-page-wrap,.acc-page-wrap,.week-page-wrap{margin-left:0;margin-right:0;padding-left:20px;padding-right:20px;}
  .stat-strip{grid-template-columns:repeat(2,1fr);margin:0 20px 28px;}
  .nav{padding:0 16px;}
  .nav-btn span.nav-label{display:none;}
  .weight-stats-row{grid-template-columns:1fr 1fr;}
  .wstat:nth-child(3){display:none;}
  .week-page-wrap{padding:24px 20px;}
}
</style>
</head>
<body>

<!-- â•â•â• NAV â•â•â• -->
<nav class="nav">
  <div class="nav-logo">12WK</div>
  <button class="nav-btn active" id="nav-home" onclick="showPage('home')">
    <span class="nav-icon">ğŸ </span><span class="nav-label">Home</span>
  </button>
  <button class="nav-btn" id="nav-goals" onclick="showPage('goals')">
    <span class="nav-icon">ğŸ¯</span><span class="nav-label">Goals</span>
  </button>
  <button class="nav-btn" id="nav-acc" onclick="showPage('acc')">
    <span class="nav-icon">ğŸ†</span><span class="nav-label">Achievements</span>
  </button>
  <div class="nav-spacer"></div>
  <div class="nav-streak" id="nav-streak">ğŸ”¥ <span id="streak-num">0</span> week streak</div>
</nav>

<!-- â•â•â• HOME PAGE â•â•â• -->
<div id="page-home" class="page active">
  <div class="hero">
    <div class="hero-bg"></div>
    <div class="hero-grid"></div>
    <div class="hero-inner">
      <div class="hero-eyebrow">Fat Loss + Muscle Gain Program</div>
      <h1>12-WEEK<br><span class="hl">GRIND</span></h1>
      <p class="hero-sub">Beginner-friendly â€¢ 6 days/week â€¢ Each muscle trained 2Ã— â€¢ Track every rep, every kilo.</p>
    </div>
  </div>

  <div class="stat-strip">
    <div class="stat-card accent-green">
      <div class="stat-icon">ğŸ’ª</div>
      <div class="stat-val" id="stat-completed">0</div>
      <div class="stat-label">Weeks Done</div>
    </div>
    <div class="stat-card accent-blue">
      <div class="stat-icon">âœ…</div>
      <div class="stat-val" id="stat-exercises">0</div>
      <div class="stat-label">Exercises Done</div>
    </div>
    <div class="stat-card accent-gold">
      <div class="stat-icon">ğŸ¯</div>
      <div class="stat-val" id="stat-goals">0</div>
      <div class="stat-label">Goals Crushed</div>
    </div>
    <div class="stat-card accent-green2">
      <div class="stat-icon">ğŸ“ˆ</div>
      <div class="stat-val" id="stat-pct">0%</div>
      <div class="stat-label">Complete</div>
    </div>
  </div>

  <div class="home-section">
    <div class="section-head">
      <div class="section-title">Overall Progress</div>
    </div>
    <div class="prog-card">
      <div class="prog-top">
        <div>
          <div class="prog-label">Program Completion</div>
          <div style="font-size:12px;color:var(--text2);margin-top:4px;" id="prog-subtext">Just getting started</div>
        </div>
        <div class="prog-pct" id="prog-pct-big">0%</div>
      </div>
      <div class="prog-track"><div class="prog-fill" id="prog-fill" style="width:0%"></div></div>
      <div class="prog-weeks" id="prog-dots"></div>
    </div>
  </div>

  <div class="home-section">
    <div class="section-head">
      <div class="section-title">Weight Tracker</div>
      <button class="section-action" onclick="showPage('goals')">+ Add Goal</button>
    </div>
    <div class="weight-card">
      <div class="weight-stats-row">
        <div class="wstat">
          <div class="wstat-lbl">Starting</div>
          <div class="wstat-val" id="wt-start">â€”</div>
          <div class="wstat-sub" id="wt-start-sub">No data</div>
        </div>
        <div class="wstat">
          <div class="wstat-lbl">Current</div>
          <div class="wstat-val" id="wt-current">â€”</div>
          <div class="wstat-sub" id="wt-current-sub">No data</div>
        </div>
        <div class="wstat">
          <div class="wstat-lbl">Total Change</div>
          <div class="wstat-val" id="wt-change">â€”</div>
          <div class="wstat-sub" id="wt-change-sub">Log 2+ weeks</div>
        </div>
      </div>
      <div class="chart-wrap">
        <div class="chart-controls">
          <div class="chart-title2">Weight Over Time</div>
          <div class="unit-toggle">
            <button class="unit-btn active" id="btn-kg" onclick="setUnit('kg')">KG</button>
            <button class="unit-btn" id="btn-lbs" onclick="setUnit('lbs')">LBS</button>
          </div>
        </div>
        <div id="chart-area"></div>
      </div>
      <div class="weight-log-section" id="wt-log-section"></div>
    </div>
  </div>

  <div class="home-section" style="padding-bottom:60px;">
    <div class="section-head">
      <div class="section-title">Weekly Schedule</div>
    </div>
    <div class="weeks-grid" id="weeks-grid"></div>
  </div>
</div>

<!-- â•â•â• GOALS PAGE â•â•â• -->
<div id="page-goals" class="page">
  <div class="goals-page-wrap">
    <div class="goals-header">
      <h2>ğŸ¯ GOALS</h2>
      <p>Set your workout and weight goals. Mark them complete when you crush them â€” they'll move to your Achievements.</p>
    </div>

    <div class="add-goal-card">
      <div class="add-goal-title"><span>â•</span> Add New Goal</div>
      <div class="goal-form-row">
        <div class="goal-field" style="flex:2;min-width:220px;">
          <label class="goal-field-label">Goal Description</label>
          <input class="goal-input" id="goal-text-input" placeholder="e.g. Hit 100kg squat, lose 5kg...">
        </div>
        <div class="goal-field">
          <label class="goal-field-label">Category</label>
          <select class="goal-input" id="goal-type-input">
            <option value="workout">ğŸ’ª Workout</option>
            <option value="weight">âš–ï¸ Weight</option>
            <option value="strength">ğŸ‹ï¸ Strength</option>
            <option value="other">â­ Other</option>
          </select>
        </div>
        <button class="goal-add-btn" onclick="addGoal()">
          <span>+</span> Add Goal
        </button>
      </div>
    </div>

    <div class="goals-tabs">
      <button class="goals-tab active" id="tab-active" onclick="switchGoalTab('active')">
        Active <span class="tab-count" id="active-count">0</span>
      </button>
      <button class="goals-tab" id="tab-done" onclick="switchGoalTab('done')">
        âœ“ Completed <span class="tab-count" id="done-count">0</span>
      </button>
    </div>

    <div class="goals-list" id="goals-list"></div>
  </div>
</div>

<!-- â•â•â• ACHIEVEMENTS PAGE â•â•â• -->
<div id="page-acc" class="page">
  <div class="acc-page-wrap">
    <div class="acc-header">
      <h2>ğŸ† ACHIEVEMENTS</h2>
      <p>Every week completed and goal crushed lives here forever. Your proof of work.</p>
    </div>

    <div class="acc-banner" id="acc-banner">
      <div class="acc-trophy-big">ğŸ†</div>
      <div class="acc-banner-text">
        <h3 id="acc-banner-title">KEEP PUSHING</h3>
        <p id="acc-banner-sub">Complete weeks and crush goals to fill this page with your wins.</p>
      </div>
    </div>

    <div id="acc-weeks-section" style="margin-bottom:36px;">
      <div class="acc-section-title">Completed Weeks</div>
      <div class="acc-week-list" id="acc-week-list"></div>
    </div>

    <div id="acc-goals-section">
      <div class="acc-section-title">Completed Goals</div>
      <div class="acc-goals-list" id="acc-goals-list"></div>
    </div>
  </div>
</div>

<!-- â•â•â• WEEK PAGE â•â•â• -->
<div id="page-week" class="page">
  <div class="week-page-wrap">
    <div class="wk-page-header">
      <button style="background:none;border:none;color:var(--text2);font-family:'Plus Jakarta Sans';font-size:13px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:6px;padding:0;margin-bottom:20px;transition:color 0.15s;" onmouseenter="this.style.color='var(--accent)'" onmouseleave="this.style.color='var(--text2)'" onclick="showPage('home')">
        â† Back to Home
      </button>
      <div class="wk-page-title">WEEK <span id="wk-num-title">1</span></div>
      <div class="wk-page-meta">
        <div class="wk-phase-badge" id="wk-phase-badge">Foundation</div>
        <div class="wk-progress-inline"><strong id="wk-prog-strong">0%</strong> complete</div>
      </div>
    </div>
    <div class="wk-guidance"><strong>This week's focus:</strong> <span id="wk-guidance-text"></span></div>
    <div id="week-body"></div>
  </div>
</div>

<!-- â•â•â• TOAST â•â•â• -->
<div class="toast" id="toast">
  <div class="toast-icon" id="toast-icon">ğŸ‰</div>
  <div class="toast-msg" id="toast-msg">Achievement unlocked!</div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const PHASES=[null,
  "Learn form. Start light. Aim top of rep range with perfect technique.",
  "Learn form. Start light. Aim top of rep range with perfect technique.",
  "+2.5â€“5% load on compounds if all reps hit last week.",
  "+2.5â€“5% load on compounds if all reps hit last week.",
  "Add 1 set to first compound OR +2.5% load.",
  "Add 1 set to first compound OR +2.5% load.",
  "Progress again +2.5â€“5%. Keep rest strict.",
  "Progress again +2.5â€“5%. Keep rest strict.",
  "Heavier focus: lower rep range on compounds.",
  "Heavier focus: lower rep range on compounds.",
  "Optional deload: -20% volume if fatigued.",
  "Test week: best clean reps/loads.",
];
const PHASE_NAMES=['','Foundation','Foundation','Build','Build','Accumulate','Accumulate','Intensify','Intensify','Peak','Peak','Deload','Test'];
const PHASE_CLASSES=['','phase-foundation','phase-foundation','phase-build','phase-build','phase-accumulate','phase-accumulate','phase-intensify','phase-intensify','phase-peak','phase-peak','phase-deload','phase-test'];
const DAY_ICONS=['ğŸ¦µ','ğŸ’ª','ğŸ‹ï¸','ğŸ‘','ğŸ”ï¸','ğŸ’ª','ğŸ¦µ'];

const DAYS=[
  {day:"Sunday",focus:"Lower (Quads) + Calves",exercises:[
    {name:"Back Squat / Leg Press",sets:"4Ã—6â€“8"},{name:"Bulgarian Split Squat",sets:"3Ã—8â€“10/leg"},
    {name:"Leg Extension",sets:"3Ã—12â€“15"},{name:"Romanian Deadlift (light)",sets:"3Ã—8â€“10"},
    {name:"Calf Raises",sets:"4Ã—12â€“15"},{name:"Plank",sets:"3Ã—30â€“45s"},
    {name:"Cardio: Incline Walk",sets:"15 min",cardio:true}]},
  {day:"Monday",focus:"Chest + Triceps",exercises:[
    {name:"Flat Press (BB/Machine)",sets:"4Ã—6â€“8"},{name:"Incline DB Press",sets:"3Ã—8â€“10"},
    {name:"Cable/Dumbbell Flyes",sets:"3Ã—12â€“15"},{name:"Close-Grip Press / Assisted Dips",sets:"3Ã—8â€“10"},
    {name:"Rope Triceps Pushdown",sets:"3Ã—12â€“15"},{name:"Cardio: Tabata",sets:"4 min",cardio:true}]},
  {day:"Tuesday",focus:"Back + Biceps",exercises:[
    {name:"RDL / Trap-Bar Deadlift",sets:"3Ã—6â€“8"},{name:"Lat Pulldown / Assisted Pull-up",sets:"3Ã—8â€“10"},
    {name:"Seated Cable Row",sets:"3Ã—8â€“10"},{name:"One-arm DB Row",sets:"3Ã—10/side"},
    {name:"EZ-Bar/DB Curl",sets:"3Ã—10â€“12"},{name:"Hammer Curl",sets:"3Ã—10â€“12"},
    {name:"Cardio: Bike Intervals",sets:"20 min",cardio:true}]},
  {day:"Wednesday",focus:"Glutes/Hamstrings + Core",exercises:[
    {name:"Hip Thrust",sets:"4Ã—8â€“10"},{name:"Walking Lunges",sets:"3Ã—10â€“12/leg"},
    {name:"Hamstring Curl",sets:"3Ã—10â€“12"},{name:"Goblet Squat",sets:"3Ã—10â€“12"},
    {name:"Calf Raises",sets:"3Ã—12â€“15"},{name:"Core Circuit",sets:"3 rounds"},
    {name:"Cardio: Brisk Walk",sets:"20â€“30 min",cardio:true}]},
  {day:"Thursday",focus:"Shoulders + Chest (secondary)",exercises:[
    {name:"Overhead Press",sets:"4Ã—6â€“8"},{name:"Incline DB Press (light)",sets:"3Ã—8â€“10"},
    {name:"Lateral Raises",sets:"3Ã—12â€“15"},{name:"Rear Delt Fly",sets:"3Ã—12â€“15"},
    {name:"Face Pulls",sets:"3Ã—12â€“15"},{name:"Cardio: Intervals 30s/90s",sets:"16â€“20 min",cardio:true}]},
  {day:"Friday",focus:"Back + Arms",exercises:[
    {name:"Pull-ups / Lat Pulldown",sets:"4Ã—6â€“8"},{name:"Bent-over Row / Chest-Supported Row",sets:"3Ã—8â€“10"},
    {name:"Single-arm Cable Row",sets:"3Ã—10/side"},{name:"Superset: DB Curl + OH Triceps Ext",sets:"3Ã—10â€“12"},
    {name:"Cable Curls",sets:"2Ã—10â€“12"},{name:"Cardio: HIIT Ladder",sets:"18 min",cardio:true}]},
  {day:"Saturday",focus:"Full Lower + Core",exercises:[
    {name:"Front Squat / Goblet",sets:"3Ã—6â€“8"},{name:"Deadlift Variant",sets:"3Ã—6â€“8"},
    {name:"Leg Press / Lunges",sets:"3Ã—10â€“12"},{name:"Hip Abduction / Glute Accessory",sets:"3Ã—12â€“15"},
    {name:"Core Circuit",sets:"3 rounds"},{name:"Cardio: Elliptical/Stairs",sets:"15â€“20 min",cardio:true}]},
];

const TOTAL_PER_WEEK=DAYS.reduce((s,d)=>s+d.exercises.length,0);
const TOTAL_ALL=TOTAL_PER_WEEK*12;
let currentUnit=localStorage.getItem('gym_unit')||'kg';
let goalTab='active';
let currentWeekPage=1;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STORAGE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const ls=(k,v)=>v===undefined?localStorage.getItem(k):(localStorage.setItem(k,v),v);
const lsj=(k)=>{try{return JSON.parse(localStorage.getItem(k)||'null')}catch(e){return null}};
const lssj=(k,v)=>localStorage.setItem(k,JSON.stringify(v));

function isChecked(w,di,ei){return ls(`gym_w${w}_d${di}_e${ei}`)==='1';}
function setChecked(w,di,ei,v){v?ls(`gym_w${w}_d${di}_e${ei}`,'1'):localStorage.removeItem(`gym_w${w}_d${di}_e${ei}`);}

function getWeekProgress(w){
  let done=0;
  DAYS.forEach((d,di)=>d.exercises.forEach((_,ei)=>{if(isChecked(w,di,ei))done++;}));
  return{done,total:TOTAL_PER_WEEK,pct:Math.round(done/TOTAL_PER_WEEK*100),complete:done===TOTAL_PER_WEEK};
}
function getGlobalProgress(){
  let done=0;
  for(let w=1;w<=12;w++)DAYS.forEach((d,di)=>d.exercises.forEach((_,ei)=>{if(isChecked(w,di,ei))done++;}));
  return Math.round(done/TOTAL_ALL*100);
}
function getCompletedWeeksCount(){
  let c=0;for(let w=1;w<=12;w++)if(getWeekProgress(w).complete)c++;return c;
}
function getTotalExercisesDone(){
  let done=0;
  for(let w=1;w<=12;w++)DAYS.forEach((d,di)=>d.exercises.forEach((_,ei)=>{if(isChecked(w,di,ei))done++;}));
  return done;
}
function getStreak(){
  // Find the highest completed week, then count consecutive completed weeks backwards from there
  let lastComplete=0;
  for(let w=1;w<=12;w++) if(getWeekProgress(w).complete) lastComplete=w;
  if(lastComplete===0) return 0;
  let streak=0;
  for(let w=lastComplete;w>=1;w--){
    if(getWeekProgress(w).complete) streak++;
    else break;
  }
  return streak;
}

// Weight
function getWeights(){return lsj('gym_weights')||{};}
function setWeight(w,v){const d=getWeights();if(v===null)delete d[w];else d[w]=parseFloat(v);lssj('gym_weights',d);}
function getWeight(w){const d=getWeights();return d[w]!==undefined?d[w]:null;}
function toDisplay(kg){return currentUnit==='kg'?+kg.toFixed(1):+(kg*2.20462).toFixed(1);}
function toKg(v){return currentUnit==='kg'?parseFloat(v):+(parseFloat(v)/2.20462).toFixed(2);}
function setUnit(u){currentUnit=u;ls('gym_unit',u);renderWeightSection();renderWeeksGrid();document.getElementById('btn-kg').classList.toggle('active',u==='kg');document.getElementById('btn-lbs').classList.toggle('active',u==='lbs');}

// Goals
function getGoals(){return lsj('gym_goals')||[];}
function saveGoals(g){lssj('gym_goals',g);}
function addGoal(){
  const txt=document.getElementById('goal-text-input').value.trim();
  if(!txt)return;
  const type=document.getElementById('goal-type-input').value;
  const goals=getGoals();
  goals.push({id:Date.now(),text:txt,type,done:false,created:new Date().toLocaleDateString(),doneDate:null});
  saveGoals(goals);
  document.getElementById('goal-text-input').value='';
  renderGoals();
  showToast('ğŸ¯','New goal added! Go crush it.');
}
function toggleGoal(id){
  const goals=getGoals();
  const g=goals.find(x=>x.id===id);
  if(!g)return;
  g.done=!g.done;
  g.doneDate=g.done?new Date().toLocaleDateString():null;
  saveGoals(goals);
  renderGoals();
  renderAccPage();
  updateStats();
  if(g.done)showToast('ğŸ‰','Goal achieved! Moved to Achievements.');
}
function deleteGoal(id){
  const goals=getGoals().filter(x=>x.id!==id);
  saveGoals(goals);
  renderGoals();
  renderAccPage();
  updateStats();
}
function switchGoalTab(tab){
  goalTab=tab;
  document.getElementById('tab-active').classList.toggle('active',tab==='active');
  document.getElementById('tab-done').classList.toggle('active',tab==='done');
  renderGoals();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PAGE ROUTING + BACK GESTURE SUPPORT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let _activePage = 'home';

function showPage(page, pushState=true){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
  if(page==='home'){
    document.getElementById('page-home').classList.add('active');
    document.getElementById('nav-home').classList.add('active');
    renderHome();
  } else if(page==='goals'){
    document.getElementById('page-goals').classList.add('active');
    document.getElementById('nav-goals').classList.add('active');
    renderGoals();
  } else if(page==='acc'){
    document.getElementById('page-acc').classList.add('active');
    document.getElementById('nav-acc').classList.add('active');
    renderAccPage();
  } else if(page==='week'){
    document.getElementById('page-week').classList.add('active');
    renderWeekPage(currentWeekPage);
  }
  window.scrollTo({top:0,behavior:'smooth'});

  // Push a history entry so the phone's back gesture has something to pop
  if(pushState){
    if(page==='home'){
      // Replace state for home so there's always a home entry at the bottom
      history.replaceState({page:'home'}, '', '');
    } else {
      // Push a new entry for any non-home page
      const stateData = page==='week' ? {page:'week', week:currentWeekPage} : {page};
      history.pushState(stateData, '', '');
    }
  }
  _activePage = page;
}

// When the user swipes back / presses the hardware back button,
// popstate fires. If we're not already on home, go home instead of
// letting the browser navigate away from the app.
window.addEventListener('popstate', function(e){
  if(_activePage !== 'home'){
    // Navigate to home without pushing a new state (we're handling the pop ourselves)
    showPage('home', false);
    // Re-push a state so there's still a forward entry to pop next time
    history.pushState({page:'home'}, '', '');
  }
  // If already on home, let the browser do its default thing (minimise / close tab)
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STATS UPDATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function updateStats(){
  const gPct=getGlobalProgress();
  const completedWks=getCompletedWeeksCount();
  const exDone=getTotalExercisesDone();
  const goalsDone=getGoals().filter(g=>g.done).length;
  const streak=getStreak();

  document.getElementById('stat-completed').textContent=completedWks;
  document.getElementById('stat-exercises').textContent=exDone;
  document.getElementById('stat-goals').textContent=goalsDone;
  document.getElementById('stat-pct').textContent=gPct+'%';
  document.getElementById('prog-pct-big').textContent=gPct+'%';
  document.getElementById('prog-fill').style.width=gPct+'%';
  document.getElementById('streak-num').textContent=streak;
  document.getElementById('prog-subtext').textContent=
    gPct===0?'Just getting started':
    gPct<25?'Early days â€” stay consistent!':
    gPct<50?'Building momentum ğŸ”¥':
    gPct<75?'Past the halfway mark! ğŸ’ª':
    gPct<100?'Almost there! Don\'t stop now ğŸš€':
    'ğŸ† Program Complete! Legendary.';

  // Week dots
  const dots=document.getElementById('prog-dots');
  dots.innerHTML='';
  for(let w=1;w<=12;w++){
    const p=getWeekProgress(w);
    const d=document.createElement('div');
    d.className='prog-week-dot'+(p.complete?' done':p.done>0?' partial':'');
    d.title=`Week ${w}: ${p.pct}%`;
    dots.appendChild(d);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// WEIGHT SECTION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderWeightSection(){
  const weights=getWeights();
  const entries=[];
  for(let w=1;w<=12;w++)if(weights[w]!==undefined)entries.push({week:w,kg:weights[w]});
  const unit=currentUnit;

  if(entries.length>0){
    const first=entries[0],last=entries[entries.length-1];
    const sv=toDisplay(first.kg),lv=toDisplay(last.kg);
    document.getElementById('wt-start').textContent=sv+' '+unit;
    document.getElementById('wt-start-sub').textContent='Week '+first.week;
    document.getElementById('wt-current').textContent=lv+' '+unit;
    document.getElementById('wt-current-sub').textContent='Week '+last.week;
    if(entries.length>1){
      const diff=+(lv-sv).toFixed(1);
      const sign=diff<0?'':diff>0?'+':'';
      document.getElementById('wt-change').textContent=sign+diff+' '+unit;
      document.getElementById('wt-change').className='wstat-val '+(diff<0?'loss':diff>0?'gain':'');
      document.getElementById('wt-change-sub').textContent=`W${first.week} â†’ W${last.week}`;
    } else {
      document.getElementById('wt-change').textContent='â€”';
      document.getElementById('wt-change').className='wstat-val';
      document.getElementById('wt-change-sub').textContent='Log 2+ weeks';
    }
  } else {
    ['wt-start','wt-current','wt-change'].forEach(id=>{document.getElementById(id).textContent='â€”';document.getElementById(id).className='wstat-val';});
    document.getElementById('wt-start-sub').textContent='No data';
    document.getElementById('wt-current-sub').textContent='No data';
    document.getElementById('wt-change-sub').textContent='Log 2+ weeks';
  }

  // Chart
  const chartArea=document.getElementById('chart-area');
  if(entries.length<2){
    chartArea.innerHTML=`<div class="no-data"><div class="no-data-icon">ğŸ“‰</div><div class="no-data-text">Open any week page, scroll down, and log your Saturday weight.<br>You need at least 2 entries to draw the chart.</div></div>`;
  } else {
    chartArea.innerHTML='';
    chartArea.appendChild(buildWeightChart(entries));
  }
  renderWeightLog(entries);
}

function buildWeightChart(entries){
  const W=700,H=220,P={t:24,r:24,b:38,l:54};
  const iW=W-P.l-P.r,iH=H-P.t-P.b;
  const vals=entries.map(e=>toDisplay(e.kg));
  const minV=Math.min(...vals),maxV=Math.max(...vals);
  const range=maxV-minV||1,pad=range*0.3;
  const yMin=minV-pad,yMax=maxV+pad;
  const xS=i=>P.l+(entries[i].week-1)/11*iW;
  const yS=v=>P.t+(1-(v-yMin)/(yMax-yMin))*iH;
  const pts=entries.map((_,i)=>`${xS(i).toFixed(1)},${yS(vals[i]).toFixed(1)}`);
  const line='M'+pts.join(' L');
  const area=`M${xS(0).toFixed(1)},${(P.t+iH).toFixed(1)} L${pts.join(' L')} L${xS(entries.length-1).toFixed(1)},${(P.t+iH).toFixed(1)} Z`;
  const ticks=4;
  let yticks='';
  for(let i=0;i<=ticks;i++){const v=yMin+(yMax-yMin)*i/ticks;yticks+=`<line x1="${P.l}" y1="${yS(v).toFixed(1)}" x2="${P.l+iW}" y2="${yS(v).toFixed(1)}" stroke="#1e1e30" stroke-width="1"/><text x="${(P.l-8).toFixed(1)}" y="${(yS(v)+4).toFixed(1)}" text-anchor="end" font-size="10" fill="#55556a" font-family="Plus Jakarta Sans">${v.toFixed(1)}</text>`;}
  const unit=currentUnit;
  const svg=document.createElementNS('http://www.w3.org/2000/svg','svg');
  svg.setAttribute('viewBox',`0 0 ${W} ${H}`);
  svg.setAttribute('class','weight-chart');
  svg.setAttribute('preserveAspectRatio','xMidYMid meet');
  svg.innerHTML=`
    <defs>
      <linearGradient id="lg" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#c8ff00" stop-opacity="0.2"/>
        <stop offset="100%" stop-color="#c8ff00" stop-opacity="0"/>
      </linearGradient>
    </defs>
    ${yticks}
    <path d="${area}" fill="url(#lg)"/>
    <path d="${line}" fill="none" stroke="#c8ff00" stroke-width="2.5" stroke-linejoin="round" stroke-linecap="round"/>
    ${entries.map((_,i)=>`
      <circle cx="${xS(i).toFixed(1)}" cy="${yS(vals[i]).toFixed(1)}" r="5" fill="#c8ff00" stroke="#080810" stroke-width="2.5"/>
      <text x="${xS(i).toFixed(1)}" y="${(yS(vals[i])-12).toFixed(1)}" text-anchor="middle" font-size="10" fill="#a8e000" font-family="Plus Jakarta Sans" font-weight="700">${vals[i]}</text>
      <text x="${xS(i).toFixed(1)}" y="${(P.t+iH+20).toFixed(1)}" text-anchor="middle" font-size="10" fill="#55556a" font-family="Plus Jakarta Sans">W${entries[i].week}</text>
    `).join('')}
  `;
  return svg;
}

function renderWeightLog(entries){
  const section=document.getElementById('wt-log-section');
  if(entries.length===0){section.innerHTML='';return;}
  const unit=currentUnit;
  let html=`<div class="wlog-head"><span>Week</span><span>Weight</span><span>Change</span><span></span></div>`;
  entries.forEach((e,i)=>{
    const val=toDisplay(e.kg);
    let ch='â€”',cls='zero';
    if(i>0){const prev=toDisplay(entries[i-1].kg);const d=+(val-prev).toFixed(1);ch=(d<0?'':d>0?'+':'')+d+' '+unit;cls=d<0?'neg':d>0?'pos':'zero';}
    html+=`<div class="wlog-row"><span class="wlog-week">Week ${e.week} Â· Sat</span><span class="wlog-wt">${val} <small style="font-size:11px;color:var(--muted)">${unit}</small></span><span class="wlog-ch ${cls}">${ch}</span><button class="wlog-del" onclick="delWeight(${e.week})">âœ•</button></div>`;
  });
  section.innerHTML=html;
}
function delWeight(w){setWeight(w,null);renderWeightSection();}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// WEEKS GRID
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderWeeksGrid(){
  const grid=document.getElementById('weeks-grid');
  grid.innerHTML='';
  for(let w=1;w<=12;w++){
    const prog=getWeekProgress(w);
    const wt=getWeight(w);
    const wtTag=wt!==null?`<div class="wc-wt">âš– ${toDisplay(wt)} ${currentUnit}</div>`:'<div style="height:20px;"></div>';
    const trophy=prog.complete?`<div class="wc-trophy">ğŸ†</div>`:`<div style="width:28px"></div>`;
    const card=document.createElement('div');
    card.className='week-card'+(prog.complete?' complete':'');
    card.innerHTML=`
      <div class="wc-top">
        <div class="wc-badge ${PHASE_CLASSES[w]}">${PHASE_NAMES[w]}</div>
        ${trophy}
      </div>
      <div class="wc-num">${String(w).padStart(2,'0')}</div>
      <div class="wc-label">Week ${w}</div>
      ${wtTag}
      <div class="wc-bar-track"><div class="wc-bar-fill ${prog.complete?'complete-bar':''}" style="width:${prog.pct}%"></div></div>
      <div class="wc-prog-text"><strong>${prog.done}</strong>/${prog.total} exercises &nbsp;Â·&nbsp; <strong>${prog.pct}%</strong></div>
    `;
    card.onclick=()=>{currentWeekPage=w;showPage('week');};
    grid.appendChild(card);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HOME RENDER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderHome(){
  updateStats();
  renderWeightSection();
  renderWeeksGrid();
  document.getElementById('btn-kg').classList.toggle('active',currentUnit==='kg');
  document.getElementById('btn-lbs').classList.toggle('active',currentUnit==='lbs');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// WEEK PAGE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderWeekPage(week){
  document.getElementById('wk-num-title').textContent=week;
  document.getElementById('wk-phase-badge').textContent=PHASE_NAMES[week];
  document.getElementById('wk-phase-badge').className='wk-phase-badge '+PHASE_CLASSES[week];
  document.getElementById('wk-guidance-text').textContent=PHASES[week];
  const prog=getWeekProgress(week);
  document.getElementById('wk-prog-strong').textContent=prog.pct+'%';

  const body=document.getElementById('week-body');
  body.innerHTML='';

  // Weight input
  const wt=getWeight(week);
  const dispWt=wt!==null?toDisplay(wt):'';
  const wi=document.createElement('div');
  wi.className='wi-card';
  wi.innerHTML=`
    <div class="wi-card-icon">âš–ï¸</div>
    <div class="wi-card-label">Saturday Weigh-In
      <span>Log your end-of-week weight</span>
    </div>
    <div class="wi-row">
      <input class="wi-inp" id="wi-inp" type="number" step="0.1" min="20" max="500"
        placeholder="${currentUnit==='kg'?'70.0':'154'}" value="${dispWt}">
      <span class="wi-unit-lbl">${currentUnit}</span>
    </div>
    <button class="wi-save-btn" onclick="saveWeightFromWeekPage(${week})">Save Weight</button>
    <span class="wi-status" id="wi-status">âœ“ Saved!</span>
    ${wt!==null?`<span style="font-size:12px;color:var(--blue);font-weight:600;">Current: ${dispWt} ${currentUnit}</span>`:''}
  `;
  body.appendChild(wi);

  // Complete banner
  const banner=document.createElement('div');
  banner.className='complete-banner'+(prog.complete?' show':'');
  banner.id='complete-banner';
  banner.innerHTML=`<div class="cb-icon">ğŸ†</div><div class="cb-text"><strong>Week ${week} Complete!</strong><span>Incredible work. You've earned a trophy. ${week<12?'Head to Week '+(week+1)+' when ready.':'You finished the full 12 weeks â€” legendary!'}</span></div>`;
  body.appendChild(banner);

  // Days
  DAYS.forEach((dayData,dayIdx)=>{
    const block=document.createElement('div');
    block.className='day-block';
    block.innerHTML=`
      <div class="day-block-header">
        <div class="day-head-left">
          <span class="day-icon">${DAY_ICONS[dayIdx]}</span>
          <div>
            <div class="day-name">${dayData.day}</div>
            <div class="day-focus">${dayData.focus}</div>
          </div>
        </div>
        <button class="day-done-all" onclick="checkAllDay(${week},${dayIdx})">âœ“ Done All</button>
      </div>
      <div id="exlist-${dayIdx}"></div>
    `;
    body.appendChild(block);
    const list=block.querySelector(`#exlist-${dayIdx}`);
    dayData.exercises.forEach((ex,exIdx)=>{
      const row=document.createElement('div');
      row.className='ex-row'+(isChecked(week,dayIdx,exIdx)?' done':'');
      row.id=`exr-${dayIdx}-${exIdx}`;
      row.innerHTML=`
        <div class="ex-cb"><svg viewBox="0 0 12 10"><polyline points="1 5 4.5 9 11 1"/></svg></div>
        <div class="ex-name${ex.cardio?' cardio':''}">${ex.name}</div>
        <div class="ex-sets">${ex.sets}</div>
      `;
      row.onclick=()=>toggleEx(week,dayIdx,exIdx);
      list.appendChild(row);
    });
  });
}

function saveWeightFromWeekPage(week){
  const inp=document.getElementById('wi-inp');
  const val=parseFloat(inp.value);
  if(isNaN(val)||val<20||val>500){inp.style.borderColor='rgba(255,80,80,0.5)';setTimeout(()=>inp.style.borderColor='',1200);return;}
  setWeight(week,toKg(val));
  const s=document.getElementById('wi-status');
  s.classList.add('show');
  setTimeout(()=>s.classList.remove('show'),2000);
  showToast('âš–ï¸',`Week ${week} weight saved: ${val} ${currentUnit}`);
}

function toggleEx(week,dayIdx,exIdx){
  const wasComplete=getWeekProgress(week).complete;
  const val=!isChecked(week,dayIdx,exIdx);
  setChecked(week,dayIdx,exIdx,val);
  const row=document.getElementById(`exr-${dayIdx}-${exIdx}`);
  val?row.classList.add('done'):row.classList.remove('done');
  const prog=getWeekProgress(week);
  document.getElementById('wk-prog-strong').textContent=prog.pct+'%';
  const banner=document.getElementById('complete-banner');
  if(banner) prog.complete?banner.classList.add('show'):banner.classList.remove('show');
  if(!wasComplete&&prog.complete){
    showToast('ğŸ†',`Week ${week} complete! Trophy earned! ğŸ‰`);
  }
}

function checkAllDay(week,dayIdx){
  DAYS[dayIdx].exercises.forEach((_,exIdx)=>{
    setChecked(week,dayIdx,exIdx,true);
    const row=document.getElementById(`exr-${dayIdx}-${exIdx}`);
    if(row)row.classList.add('done');
  });
  const prog=getWeekProgress(week);
  document.getElementById('wk-prog-strong').textContent=prog.pct+'%';
  const banner=document.getElementById('complete-banner');
  if(banner&&prog.complete)banner.classList.add('show');
  if(prog.complete)showToast('ğŸ”¥',`${DAYS[dayIdx].day} done! Week ${week} at ${prog.pct}%.`);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GOALS PAGE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderGoals(){
  const goals=getGoals();
  const active=goals.filter(g=>!g.done);
  const done=goals.filter(g=>g.done);
  document.getElementById('active-count').textContent=active.length;
  document.getElementById('done-count').textContent=done.length;
  const list=document.getElementById('goals-list');
  const show=goalTab==='active'?active:done;
  if(show.length===0){
    list.innerHTML=`<div class="empty-state"><div class="empty-icon">${goalTab==='active'?'ğŸ¯':'âœ…'}</div><div class="empty-text">${goalTab==='active'?'No active goals yet. Add one above!':'No completed goals yet. Keep pushing!'}</div></div>`;
    return;
  }
  list.innerHTML=show.map(g=>`
    <div class="goal-item${g.done?' done':''}" id="goal-${g.id}">
      <div class="goal-check" onclick="toggleGoal(${g.id})">
        <svg viewBox="0 0 12 10"><polyline points="1 5 4.5 9 11 1"/></svg>
      </div>
      <div class="goal-info">
        <div class="goal-text">${g.text}</div>
        <div class="goal-meta">
          <span class="goal-type-badge ${g.type}">${{workout:'ğŸ’ª Workout',weight:'âš–ï¸ Weight',strength:'ğŸ‹ï¸ Strength',other:'â­ Other'}[g.type]}</span>
          <span class="goal-date">${g.done?'Achieved '+g.doneDate:'Added '+g.created}</span>
        </div>
      </div>
      <button class="goal-del" onclick="deleteGoal(${g.id})" title="Delete">âœ•</button>
    </div>
  `).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ACHIEVEMENTS PAGE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderAccPage(){
  const completedWeeks=[];
  for(let w=1;w<=12;w++)if(getWeekProgress(w).complete)completedWeeks.push(w);
  const completedGoals=getGoals().filter(g=>g.done);
  const total=completedWeeks.length+completedGoals.length;

  // Banner
  if(total===0){
    document.getElementById('acc-banner-title').textContent='KEEP PUSHING';
    document.getElementById('acc-banner-sub').textContent='Complete weeks and crush goals to fill this page with your wins.';
  } else {
    document.getElementById('acc-banner-title').textContent=`${total} ACHIEVEMENT${total>1?'S':''} UNLOCKED`;
    document.getElementById('acc-banner-sub').textContent=`${completedWeeks.length} week${completedWeeks.length!==1?'s':''} completed Â· ${completedGoals.length} goal${completedGoals.length!==1?'s':''} achieved. You're building something real.`;
  }

  // Completed weeks
  const wl=document.getElementById('acc-week-list');
  if(completedWeeks.length===0){
    wl.innerHTML=`<div class="empty-state"><div class="empty-icon">ğŸ“…</div><div class="empty-text">Complete a week to see it here.</div></div>`;
  } else {
    wl.innerHTML=completedWeeks.map(w=>`
      <div class="acc-week-item">
        <div class="acc-week-icon">ğŸ†</div>
        <div class="acc-week-info">
          <div class="acc-week-name">Week ${w} â€” ${PHASE_NAMES[w]}</div>
          <div class="acc-week-sub">All ${TOTAL_PER_WEEK} exercises completed Â· ${DAYS.length} days of training</div>
        </div>
        <div class="acc-week-badge">${String(w).padStart(2,'0')}</div>
      </div>
    `).join('');
  }

  // Completed goals
  const gl=document.getElementById('acc-goals-list');
  if(completedGoals.length===0){
    gl.innerHTML=`<div class="empty-state"><div class="empty-icon">ğŸ¯</div><div class="empty-text">Achieve a goal to see it here.</div></div>`;
  } else {
    gl.innerHTML=completedGoals.map(g=>`
      <div class="acc-goal-item">
        <div class="acc-goal-icon">${{workout:'ğŸ’ª',weight:'âš–ï¸',strength:'ğŸ‹ï¸',other:'â­'}[g.type]}</div>
        <div class="acc-goal-info">
          <div class="acc-goal-text">${g.text}</div>
          <div class="acc-goal-sub">
            <span class="goal-type-badge ${g.type}">${{workout:'Workout',weight:'Weight',strength:'Strength',other:'Other'}[g.type]}</span>
            <span>Achieved on ${g.doneDate}</span>
          </div>
        </div>
      </div>
    `).join('');
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TOAST
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let toastTimer=null;
function showToast(icon,msg){
  document.getElementById('toast-icon').textContent=icon;
  document.getElementById('toast-msg').textContent=msg;
  const t=document.getElementById('toast');
  t.classList.add('show');
  clearTimeout(toastTimer);
  toastTimer=setTimeout(()=>t.classList.remove('show'),3200);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Seed a home history entry so the very first back gesture is interceptable
history.replaceState({page:'home'}, '', '');
renderHome();
</script>
</body>
</html>
